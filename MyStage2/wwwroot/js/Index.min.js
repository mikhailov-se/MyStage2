function showModalEdit(n){var t=$("#modal-placeholder");$.ajax("/Announsments/GetModalEditAnnounsment/"+n).done(function(n){t.html(n);t.find(".modal").modal("show")})}function filter(){var n=$("#searchBox").val(),t=$("#fromDate").val(),i=$("#toDate").val(),r=$("#listUsers").val(),u="/Announsments/GetAnnounsmentsJson?searchString="+n+"&fromDate="+t+"&toDate="+i+"&selectedUserId="+r;$("#table").bootstrapTable("refresh",{url:u})}function setCountRowsOnPage(n,t){document.getElementsByClassName("setCountOnPageButton").forEach(n=>{n.style.background="white",n.style.color="#4200be"});n.style.background="#4200be";n.style.color="white";$("#table").bootstrapTable("refresh",{pageSize:t})}function removeAnnounsments(){var t=$("#table").bootstrapTable("getSelections"),n=t.map(function(n){return n.id});confirm(" Удалить записи  "+n.length)&&$.ajax({url:"/Announsments/Delete",type:"POST",data:{ids:n},success:()=>{$("#table").bootstrapTable("remove",{field:"id",values:n}),hideRemoveButton(),toastr.success("Запись успешно удалена","Успех")},error:()=>{toastr.error("Внутреняя ошибка","Ошибка")}})}function setDefaultCountItemsOnPage(){var n=document.getElementsByClassName("setCountOnPageButton")[0];setCountRowsOnPage(n,10)}function showModalAdd(){var n=$("#modal-placeholder");$.ajax("/Announsments/GetModalAddAnnounsment/").done(function(t){n.html(t);n.find(".modal").modal("show")})}function hideRemoveButton(){document.getElementById("removeButton").style.visibility="hidden"}function showRemoveButton(){document.getElementById("removeButton").style.visibility="visible"}$(document).ready(function(){setDefaultCountItemsOnPage();$("#modal-placeholder").on("hidden.bs.modal",()=>{filter()});$(".fixed-table-pagination").before($("#removeButtonDiv"));$("#table").on("check.bs.table check-all.bs.table ",()=>{showRemoveButton()});$("#table").on("uncheck.bs.table uncheck-all.bs.table",()=>{hideRemoveButton()});$("#table").on("dbl-click-row.bs.table",(n,t)=>{showModalEdit(t.id)})});